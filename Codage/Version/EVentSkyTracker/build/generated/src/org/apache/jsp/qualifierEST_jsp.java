package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.Random;
import java.util.ArrayList;
import java.sql.Connection;
import com.persistence.ConnexionMySQL;
import com.persistence.Evenement;
import com.persistence.CandidateEST;
import com.persistence.ImageEST;
import com.metier.ESTSession;
import com.metier.DiscoApplication;
import com.persistence.ConnexionMySQL;
import java.sql.Connection;

public final class qualifierEST_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.ArrayList<String>(5);
    _jspx_dependants.add("/includes/head.jspf");
    _jspx_dependants.add("/includes/session.jspf");
    _jspx_dependants.add("/includes/qualifierHeaderEST.jspf");
    _jspx_dependants.add("/includes/user.jspf");
    _jspx_dependants.add("/includes/footer.jspf");
  }

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"fr\">\n");
      out.write("    <head>\n");
      out.write("        <title>Qualifier</title>\n");
      out.write("        ");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<meta charset=\"utf-8\">\r\n");
      out.write("\r\n");
      out.write("<meta name=\"viewport\" content=\"width=device-width, minimum-scale=1, maximum-scale=1\">\r\n");
      out.write("\r\n");
      out.write("<meta name=\"apple-mobile-web-app-capable\" content=\"yes\"/>\r\n");
      out.write("<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\"/>\r\n");
      out.write("<link rel=\"apple-touch-icon\" href=\"images/apple-touch-icon-57x57.png\"/>\r\n");
      out.write("<link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"images/apple-touch-icon-72x72.png\"/>\r\n");
      out.write("<link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"images/apple-touch-icon-114x114.png\"/>\r\n");
      out.write("<link rel=\"icon\" href=\"images/apple-touch-icon-57x57.png\" />\r\n");
      out.write("<link rel=\"stylesheet\" href=\"js/jquery.mobile/jquery.mobile-1.4.5.min.css\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" href=\"css/themes/EVT.css\" />\r\n");
      out.write("<link rel=\"stylesheet\" href=\"css/themes/jquery.mobile.icons.min.css\" />\r\n");
      out.write("<link rel=\"stylesheet\" href=\"css/EST1.css\">\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\" src=\"js/jquery/jquery-1.11.2.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"js/jquery.mobile/jquery.mobile-1.4.5.min.js\"></script>\r\n");
      out.write("\n");
      out.write("\n");
      out.write("    </head>\n");
      out.write("    <body>\n");
      out.write("        <div class=\"page\" data-role=\"page\" id=\"PageQualifier\">\n");
      out.write("            ");
      out.write('\r');
      out.write('\n');
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    ");

        Connection con = (Connection) session.getAttribute("con");
        if (con == null)
            con = ConnexionMySQL.newConnexion();
        session.setAttribute("con", con);
        com.metier.ESTSession maSession = (com.metier.ESTSession)session.getAttribute("maSession");
        com.persistence.User user = null;
        if (maSession != null) {
            user = maSession.getUser();
        }       
    
      out.write("\n");
      out.write("            ");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("    <div class=\"header\" data-role=\"header\" data-id=\"main-header\" data-tap-toggle=\"false\" \n");
      out.write("        data-theme=\"a\" data-position=\"fixed\" data-fullscreen=\"true\">\n");
      out.write("        <h1>Images</h1>\n");
      out.write("        <a href=\"#panelQualifier\" \n");
      out.write("       class=\"ui-btn ui-btn-icon-notext ui-corner-all ui-icon-bullets ui-btn-right\">\n");
      out.write("    </a>\n");
      out.write("    <!-- un include dans un include : on ne peut pas utiliser @include -->\n");
      out.write("    <div class=\"gradeUser\">\n");
      out.write("        ");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<center><div data-theme=\"a\">\r\n");
      out.write("    ");
     
        com.metier.ESTSession maSession1 = (com.metier.ESTSession)session.getAttribute("maSession");
        
        // user doit être déjà initialisé include session.jspf
        if (maSession1 != null) {
            com.persistence.User user1 = maSession1.getUser();
            out.println("<div id='divUser'>" + user1.getPseudo());
            for (int nb = 1; nb <= user1.getGrade(); nb++) {
                out.print(" <img src='images/star.gif'>");
            }
            out.println("</div>");
        }
        
    
      out.write("\r\n");
      out.write("</div></center>");
      out.write("\n");
      out.write("    </div>\n");
      out.write("</div>\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("            ");
                ArrayList<Evenement> tabEvent = null;
                tabEvent = Evenement.liste(con);
            
      out.write("\n");
      out.write("            <!-- panel de galaxies -->\n");
      out.write("            <div id=\"panelQualifier\" data-role=\"panel\" data-position=\"right\" class=\"ui-alt-icon\"\n");
      out.write("                 data-position-fixed=\"true\" data-display=\"push\" data-theme=\"b\">\n");
      out.write("                <ul data-role=\"listview\" data-icon=\"false\">\n");
      out.write("                    <li data-role=\"list-divider\">Aller à :</li>\n");
      out.write("\n");
      out.write("                    ");

                        int NbEvent = 0;
                        ArrayList<CandidateEST> tabCand = null;
                        for (int i = 0; i < tabEvent.size(); i++) {
                            if (user != null) {
                                tabCand = CandidateEST.getByEvenementAndUser(con, i, user.getPseudo());
                                if (tabCand.size() > 0) {
                                    out.print("<li><a data-rel=" + '"' + "close" + '"' + "onclick='changeEvent(" + i + ");'>" + tabEvent.get(i).getDate() + "</a></li>");
                                }
                            } else {
                                out.print("<li><a data-rel=" + '"' + "close" + '"' + "onclick='changeEvent(" + i + ");'>" + tabEvent.get(i).getDate() + "</a></li>");
                            }
                        }
                    
      out.write("\n");
      out.write("                    <li data-icon=\"delete\"><a href=\"#\" data-rel=\"close\">Close</a></li>\n");
      out.write("                </ul>\n");
      out.write("            </div>\n");
      out.write("            <div role=\"main\" class=\"ui-content\">\n");
      out.write("                <script type=\"text/javascript\" src=\"js/qcm_qualifier.js\"></script> \n");
      out.write("                <script type=\"text/javascript\" src=\"js/slider.js\"></script>\n");
      out.write("\n");
      out.write("                <link rel=\"stylesheet\" href=\"css/images.css\">\n");
      out.write("                <br/><br/>\n");
      out.write("                <div class=\"ui-grid-a\">\n");
      out.write("                    <div class=\"ui-block-a\">\n");
      out.write("                        <a href=\"#\" id=\"btnCanPrecedent\" data-iconpos=\"right\" \n");
      out.write("                           data-role=\"button\">Candidate Précedent</a>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"ui-block-b\">\n");
      out.write("                        <a href=\"#\" id=\"btnCanSuivant\" data-iconpos=\"right\" \n");
      out.write("                           data-role=\"button\">Candidate Suivant</a>\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("                <br/>\n");
      out.write("                <div id=\"galax\">\n");
      out.write("                    <div id=\"video\" >\n");
      out.write("                    </div>\n");
      out.write("                    <div id=\"ref\" \">\n");
      out.write("                        <img id=\"img0\" src=\"images/tuto103.jpg\" />\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("                <!-- Ajouter l'info du délai entre le curseur et l'événement initial en mn -->\n");
      out.write("                <div id=\"sliderDelai\" align=\"center\">0 min</div>\n");
      out.write("\n");
      out.write("                <!-- Le slider (le label est caché) -->\n");
      out.write("                <div id=\"divSliderVideo\">\n");
      out.write("                            <label for=\"sliderVideo\" class=\"ui-hidden-accessible\">Slider :</label>\n");
      out.write("                    <div  name=\"sliderVideo\" id=\"sliderVideo\">\n");
      out.write("                    </div>\n");
      out.write("                    <!-- Ajouter des index visuels des positions des images au dessus du slider -->\n");
      out.write("                    <canvas id=\"regle\" height=\"50\" ></canvas>\n");
      out.write("                    <div class=\"ui-grid-c\">\n");
      out.write("                        ");
      out.write("\n");
      out.write("                    </div>\n");
      out.write("                    <br/>\n");
      out.write("                    <div class=\"ui-grid-a\">\n");
      out.write("                        <div class=\"ui-block-a\">\n");
      out.write("                            <a href=\"#\" id=\"btnPcdt\" data-iconpos=\"left\" \n");
      out.write("                               data-role=\"button\">Image Précédente</a>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"ui-block-b\">\n");
      out.write("                            <a href=\"#\" id=\"btnSvt\" data-iconpos=\"right\" \n");
      out.write("                               data-role=\"button\">Image Suivante</a>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("\n");
      out.write("\n");
      out.write("                    </div>\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                ");
      out.write("\n");
      out.write("\n");
      out.write("                ");
 if (user != null) {
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("                <div data-demo-html=\"true\">\n");
      out.write("\n");
      out.write("                    <div data-role=\"collapsibleset\" data-theme=\"a\"\n");
      out.write("                         class=\"ui-alt-icon\"> \n");
      out.write("                        <div id=\"Q1\" style=\"display:block;\" value=\"01\">\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\"");
      out.write("  >\n");
      out.write("                                <h3><span id=\"rp1\">Question 1</span></h3>\n");
      out.write("                                <form id=\"form1\">\n");
      out.write("                                    <fieldset id=\"fieldset1\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend1\">L'évenement est visible ?</legend>\n");
      out.write("                                        <input name=\"rp1\" id=\"rp10\" value=\"001 QS\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp1.0\" for=\"rp10\">OUI</label>\n");
      out.write("                                        <input name=\"rp1\" id=\"rp11\" value=\"001 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp1.1\" for=\"rp11\">NON</label>\n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("\n");
      out.write("                        <div id=\"Q2\" value=\"02\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp2\">Question 2</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset2\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend2\">L'évènement est-il visible sur une seule image ?</legend>\n");
      out.write("                                        <input name=\"rp2\" id=\"rp20\" value=\"002 Q21\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp2.0\" for=\"rp20\">OUI</label>\n");
      out.write("                                        <input name=\"rp2\" id=\"rp21\" value=\"002 QS\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp2.1\" for=\"rp21\">NON</label>                                        \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                                \n");
      out.write("                        <div id=\"Q21\" value=\"021\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp21\">Question 2.1</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset21\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend21\">Estimer l'éclat</legend>\n");
      out.write("                                        <input name=\"rp21\" id=\"rp210\" value=\"021 Q21\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp21.0\" for=\"rp210\">Fort</label>\n");
      out.write("                                        <input name=\"rp21\" id=\"rp211\" value=\"021 Q21\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp21.1\" for=\"rp211\">Moyen</label>\n");
      out.write("                                        <input name=\"rp21\" id=\"rp212\" value=\"021 Q21\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp21.2\" for=\"rp212\">Faible</label>\n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                                \n");
      out.write("                        <div id=\"Q22\" value=\"022\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp22\">Question 2.2</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset22\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend22\">Est-ce une signature de rayon cosmique ?</legend>\n");
      out.write("                                        <input name=\"rp22\" id=\"rp220\" value=\"022 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp22.0\" for=\"rp220\">OUI</label>\n");
      out.write("                                        <input name=\"rp32\" id=\"rp221\" value=\"022 Q21\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp22.1\" for=\"rp221\">NON</label>            \n");
      out.write("                                        <input name=\"rp32\" id=\"rp222\" value=\"022 Q21\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp22.2\" for=\"rp222\">Je ne sais pas</label>  \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <div id=\"Q23\" value=\"023\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp23\">Question 2.3</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset23\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend23\">Est-ce une signature de satellite ?</legend>\n");
      out.write("                                        <input name=\"rp23\" id=\"rp230\" value=\"023 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp23.0\" for=\"rp230\">OUI</label>\n");
      out.write("                                        <input name=\"rp23\" id=\"rp231\" value=\"023 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp23.1\" for=\"rp231\">NON</label>            \n");
      out.write("                                        <input name=\"rp23\" id=\"rp232\" value=\"023 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp23.2\" for=\"rp232\">Je ne sais pas</label>  \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <div id=\"Q3\" value=\"03\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp3\">Question 3</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset3\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend3\">L'événement se déplace-t'il ?</legend>\n");
      out.write("                                        <input name=\"rp3\" id=\"rp30\" value=\"003 Q31\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp3.0\" for=\"rp30\">OUI</label>\n");
      out.write("                                        <input name=\"rp3\" id=\"rp31\" value=\"003 QS\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp3.1\" for=\"rp31\">NON</label>            \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <div id=\"Q31\" value=\"031\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp31\">Question 3.1</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset31\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend31\" >Est-ce une signature de satellite ?</legend>\n");
      out.write("                                        <input name=\"rp31\" id=\"rp310\" value=\"031 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp31.0\" for=\"rp310\">OUI</label>\n");
      out.write("                                        <input name=\"rp31\" id=\"rp311\" value=\"031 Q31\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp31.1\" for=\"rp311\">NON</label>\n");
      out.write("                                        <input name=\"rp31\" id=\"rp312\" value=\"031 Q31\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp31.2\" for=\"rp312\">Je ne sais pas</label>  \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <div id=\"Q32\" value=\"032\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp32\">Question 3.2</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset32\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend32\" >Est-ce une signature d'asteroide ?</legend>\n");
      out.write("                                        <input name=\"rp32\" id=\"rp320\" value=\"032 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp32.0\" for=\"rp320\">OUI</label>\n");
      out.write("                                        <input name=\"rp32\" id=\"rp321\" value=\"032 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp32.1\" for=\"rp321\">NON</label>  \n");
      out.write("                                        <input name=\"rp32\" id=\"rp322\" value=\"032 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp32.2\" for=\"rp322\">Je ne sais pas</label>  \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("\n");
      out.write("                        <div id=\"Q4\" value=\"04\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp4\">Question 4</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset4\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend4\" >L'événement a-t'il un aspect stellaire ?</legend>\n");
      out.write("                                        <input name=\"rp4\" id=\"rp40\" value=\"004 QS\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp4.0\" for=\"rp40\">OUI</label>\n");
      out.write("                                        <input name=\"rp4\" id=\"rp41\" value=\"004 QS\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp4.1\" for=\"rp41\">NON</label>            \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                                \n");
      out.write("                        <div id=\"Q5\" value=\"05\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp5\">Question 5</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset5\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend5\" >L'événement montre-t'il des variations de lumière ?</legend>\n");
      out.write("                                        <input name=\"rp5\" id=\"rp50\" value=\"005 QS\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp5.0\" for=\"rp50\">OUI</label>\n");
      out.write("                                        <input name=\"rp5\" id=\"rp51\" value=\"005 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp5.1\" for=\"rp51\">NON</label>            \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        \n");
      out.write("                        <div id=\"Q6\" value=\"06\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp6\">Question 6</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset6\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend6\">L'événement est-il visible sur toutes les images ?</legend>\n");
      out.write("                                        <input name=\"rp6\" id=\"rp60\" value=\"006 QS\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp6.0\" for=\"rp60\">OUI</label>\n");
      out.write("                                        <input name=\"rp6\" id=\"rp61\" value=\"006 QS\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp6.1\" for=\"rp61\">NON</label>            \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                                \n");
      out.write("                        <div id=\"Q7\" value=\"07\" style=\"display:none;\" >\n");
      out.write("                            <div data-role=\"collapsible\" data-collapsed=\"false\">\n");
      out.write("                                <h3><span id=\"rp7\">Question 7</span></h3>\n");
      out.write("                                <form>\n");
      out.write("                                    <fieldset id=\"fieldset7\" data-role=\"controlgroup\" class=\"fieldset\">\n");
      out.write("                                        <legend id=\"legend7\">L'événement dure-t-il au moins une dizaine de jours ?</legend>\n");
      out.write("                                        <input name=\"rp7\" id=\"rp70\" value=\"007 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp7.0\" for=\"rp70\">OUI</label>\n");
      out.write("                                        <input name=\"rp7\" id=\"rp71\" value=\"007 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp7.1\" for=\"rp71\">NON</label>\n");
      out.write("                                        <input name=\"rp7\" id=\"rp72\" value=\"007 QF\" type=\"radio\">\n");
      out.write("                                        <label id=\"rp7.2\" for=\"rp72\">Je n'ai pas assez d'éléments pour répondre</label>            \n");
      out.write("                                    </fieldset>\n");
      out.write("                                </form>\n");
      out.write("                            </div>\n");
      out.write("                        </div>                                \n");
      out.write("\n");
      out.write("                    <div class=\"ui-grid-a\">\n");
      out.write("                        <div class=\"ui-block-a\">\n");
      out.write("                            <button id=\"btnPrec\" disabled=\"false\" class=\"ui-btn\">Précedent</button>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"ui-block-b\">\n");
      out.write("                            <button id=\"btnSuiv\" class=\"ui-btn\" data-ajax=\"false\">Suivant</button>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                    ");
}
                    
      out.write("\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                ");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div class=\"footer\" data-role=\"footer\" data-theme=\"a\" data-tap-toggle=\"false\"\r\n");
      out.write("            data-id=\"main-footer\" data-position=\"fixed\" data-fullscreen=\"true\">\r\n");
      out.write("    <div data-role=\"navbar\" data-grid=\"d\">\r\n");
      out.write("        <ul>\r\n");
      out.write("            <li><a  style=\"background-color: #015550\" href=\"index.jsp\" id=\"navbarhome\"  data-icon=\"home\" class=\"\">Accueil</a></li>\r\n");
      out.write("            <li><a  style=\"background-color: #015550\" href=\"qualifier.jsp\" id=\"navbarEST\" data-ajax=\"false\" data-icon=\"eye\" class=\"\">Images</a></li>\r\n");
      out.write("            <li><a  style=\"background-color: #015550\" href=\"tuto.jsp\" data-ajax=\"false\" id=\"navbartuto1\" data-icon=\"info\" class=\"\">Tutoriel</a></li>\r\n");
      out.write("            <li><a  style=\"background-color: #015550\" href=\"compte.jsp\" id=\"navbarcompte\" data-icon=\"user\" class=\"\">Compte</a></li>\r\n");
      out.write("            <li><a  style=\"background-color: #015550\" href=\"actu.jsp\" id=\"navbaractu\"  data-icon=\"comment\" class=\"\">Actu</a></li>\r\n");
      out.write("        </ul>\r\n");
      out.write("    </div>\r\n");
      out.write("</div>\r\n");
      out.write("\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("\n");
      out.write("            ");
      out.write("\n");
      out.write("            <script>\n");
      out.write("            </script>\n");
      out.write("\n");
      out.write("            <div id=\"popupFinit\" data-role=\"popup\" data-theme=\"a\" data-overlay-theme=\"b\"\n");
      out.write("                 class=\"ui-corner-all\" data-corners=\"true\" data-position-to=\"window\">\n");
      out.write("\n");
      out.write("                <div class=\"mesPopups\"> \n");
      out.write("                    <center><p>\n");
      out.write("\n");
      out.write("                            <br><strong>Confirmer l'envoi du QCM ?</strong></p>\n");
      out.write("                        <div class=\"ui-grid-a\">\n");
      out.write("                            <div class=\"ui-block-a\">\n");
      out.write("                                <input type=\"button\" id='confenv' onclick='window.location.reload(false)' value=\"OUI\"/>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"ui-block-b\">\n");
      out.write("                                <a href=\"#\" id=\"btnNon\" data-rel=\"back\" data-position-to=\"window\"class=\"ui-btn ui-corner-all ui-shadow\" data-transition=\"pop\">NON</a>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        \n");
      out.write("                        \n");
      out.write("                    </center>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            <div id=\"popupPointerEvent\" data-role=\"popup\" data-theme=\"a\" data-overlay-theme=\"b\"\n");
      out.write("                 class=\"ui-corner-all\" data-corners=\"true\" data-position-to=\"window\">\n");
      out.write("                <a href=\"#\" data-rel=\"back\" class=\"ui-btn ui-corner-all ui-shadow\n");
      out.write("                   ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right\" style=\"background-color:black;\">\n");
      out.write("                    Fermer\n");
      out.write("                </a>\n");
      out.write("                <div class=\"mesPopups\"> \n");
      out.write("                    <center><p>\n");
      out.write("\n");
      out.write("                            <br><strong>Pointer évènement</strong></p>\n");
      out.write("                    </center>\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            <div id=\"popupPointerImageConcernee\" data-role=\"popup\" data-theme=\"a\" data-overlay-theme=\"b\"\n");
      out.write("                 class=\"ui-corner-all\" data-corners=\"true\" data-position-to=\"window\">\n");
      out.write("                <a href=\"#\" data-rel=\"back\" class=\"ui-btn ui-corner-all ui-shadow\n");
      out.write("                   ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right\" style=\"background-color:black;\">\n");
      out.write("                    Fermer\n");
      out.write("                </a>\n");
      out.write("                <div class=\"mesPopups\"> \n");
      out.write("                    <center><p>\n");
      out.write("\n");
      out.write("                            <br><strong>Pointer l'image concernée</strong></p>\n");
      out.write("                    </center>\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            <div id=\"popupPointerImageDispaAppa\" data-role=\"popup\" data-theme=\"a\" data-overlay-theme=\"b\"\n");
      out.write("                 class=\"ui-corner-all\" data-corners=\"true\" data-position-to=\"window\">\n");
      out.write("                <a href=\"#\" data-rel=\"back\" class=\"ui-btn ui-corner-all ui-shadow\n");
      out.write("                   ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right\" style=\"background-color:black;\">\n");
      out.write("                    Fermer\n");
      out.write("                </a>\n");
      out.write("                <div class=\"mesPopups\"> \n");
      out.write("                    <center><p>\n");
      out.write("\n");
      out.write("                            <br><strong>Pointer l'image de disparition et d'apparition</strong></p>\n");
      out.write("                        <button OK ></button>\n");
      out.write("                    </center>\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            <div id=\"popupPointerMaxEclat\" data-role=\"popup\" data-theme=\"a\" data-overlay-theme=\"b\"\n");
      out.write("                 class=\"ui-corner-all\" data-corners=\"true\" data-position-to=\"window\">\n");
      out.write("                <a href=\"#\" data-rel=\"back\" class=\"ui-btn ui-corner-all ui-shadow\n");
      out.write("                   ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right\" style=\"background-color:black;\">\n");
      out.write("                    Fermer\n");
      out.write("                </a>\n");
      out.write("                <div class=\"mesPopups\"> \n");
      out.write("                    <center><p>\n");
      out.write("\n");
      out.write("                            <br><strong>Pointer l'image du maximum d'éclat</strong></p>\n");
      out.write("                        <button OK ></button>\n");
      out.write("                    </center>\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            <div id=\"popupQFGRB\" data-role=\"popup\" data-theme=\"a\" data-overlay-theme=\"b\"\n");
      out.write("                 class=\"ui-corner-all\" data-corners=\"true\" data-position-to=\"window\">\n");
      out.write("                <a href=\"#\" data-rel=\"back\" class=\"ui-btn ui-corner-all ui-shadow\n");
      out.write("                   ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right\" style=\"background-color:black;\">\n");
      out.write("                    Fermer\n");
      out.write("                </a>\n");
      out.write("                <div class=\"mesPopups\"> \n");
      out.write("                    <center><p>\n");
      out.write("\n");
      out.write("                            <br><strong>Sursaut Gama</strong></p>\n");
      out.write("                        <input type=\"button\" onclick='window.location.reload(false)' value=\"Ok\"/>\n");
      out.write("                    </center>\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            <div id=\"popupQFSN\" data-role=\"popup\" data-theme=\"a\" data-overlay-theme=\"b\"\n");
      out.write("                 class=\"ui-corner-all\" data-corners=\"true\" data-position-to=\"window\">\n");
      out.write("                <a href=\"#\" data-rel=\"back\" class=\"ui-btn ui-corner-all ui-shadow\n");
      out.write("                   ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right\" style=\"background-color:black;\">\n");
      out.write("                    Fermer\n");
      out.write("                </a>\n");
      out.write("                <div class=\"mesPopups\"> \n");
      out.write("                    <center><p>\n");
      out.write("\n");
      out.write("                            <br><strong>SuperNova ou Nova</strong></p>\n");
      out.write("                        <button OK ></button>\n");
      out.write("                    </center>\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            <div id=\"popupQFKN\" data-role=\"popup\" data-theme=\"a\" data-overlay-theme=\"b\"\n");
      out.write("                 class=\"ui-corner-all\" data-corners=\"true\" data-position-to=\"window\">\n");
      out.write("                <a href=\"#\" data-rel=\"back\" class=\"ui-btn ui-corner-all ui-shadow\n");
      out.write("                   ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right\" style=\"background-color:black;\">\n");
      out.write("                    Fermer\n");
      out.write("                </a>\n");
      out.write("                <div class=\"mesPopups\"> \n");
      out.write("                    <center><p>\n");
      out.write("\n");
      out.write("                            <br><strong>KiloNova</strong></p>\n");
      out.write("                        <button OK ></button>\n");
      out.write("                    </center>\n");
      out.write("\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <script>\n");
      out.write("        /*\n");
      out.write("         *\n");
      out.write("         *   Initialisation de la page\n");
      out.write("         *\n");
      out.write("         */\n");
      out.write("        var cand = 0;\n");
      out.write("        var evenement = 0;\n");
      out.write("        var NbCand = 0;\n");
      out.write("        $(function () {\n");
      out.write("            chargerImg();\n");
      out.write("            initEvent();\n");
      out.write("            $(\"#btnCanSuivant\").bind(\"click\", CanSvt);\n");
      out.write("            $(\"#btnCanPrecedent\").bind(\"click\", CanPrdt);\n");
      out.write("        });\n");
      out.write("        function initEvent() {\n");
      out.write("            $(\"#btnCanPrecedent\").addClass(\"ui-state-disabled\");\n");
      out.write("\n");
      out.write("\n");
      out.write("        }\n");
      out.write("        function changeEvent(numEvent) {\n");
      out.write("            evenement = numEvent;\n");
      out.write("            cand = 0;\n");
      out.write("            chargerImg();\n");
      out.write("\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function CanSvt() {\n");
      out.write("            if (cand < (NbCand - 1)) {\n");
      out.write("                cand++;\n");
      out.write("                chargerImg();\n");
      out.write("            }\n");
      out.write("\n");
      out.write("        }\n");
      out.write("\n");
      out.write("\n");
      out.write("        function CanPrdt() {\n");
      out.write("            if (cand > 0) {\n");
      out.write("                cand--;\n");
      out.write("                chargerImg();\n");
      out.write("            }\n");
      out.write("\n");
      out.write("        }\n");
      out.write("        function cache() {\n");
      out.write("            if (cand === NbCand - 1)\n");
      out.write("                $(\"#btnCanSuivant\").addClass(\"ui-state-disabled\");\n");
      out.write("            else\n");
      out.write("                $(\"#btnCanSuivant\").removeClass(\"ui-state-disabled\");\n");
      out.write("            if (cand === 0)\n");
      out.write("                $(\"#btnCanPrecedent\").addClass(\"ui-state-disabled\");\n");
      out.write("            else\n");
      out.write("                $(\"#btnCanPrecedent\").removeClass(\"ui-state-disabled\");\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        function chargerImg() {\n");
      out.write("\n");
      out.write("            $.ajax({\n");
      out.write("                url: 'eventSkyTracker.jsp?action=qualifier_req',\n");
      out.write("                type: 'POST',\n");
      out.write("                // On passe nos parametres par POST au script qualifier_req.jsp\n");
      out.write("                // pour transmettre la candidate et l'évènement\n");
      out.write("                data: 'candidate=' + cand + '&event=' + evenement,\n");
      out.write("                success: function (data) {\n");
      out.write("                    if (data.indexOf(\"aucunEvent\") !== -1) {\n");
      out.write("                        var cheminImages = [\"/Aucun_Event/AucuneCandidate\"];\n");
      out.write("                        var listDelai = [0];\n");
      out.write("                        remplir(cheminImages, listDelai);\n");
      out.write("                        $(\"#btnCanPrecedent\").removeClass(\"ui-state-disabled\");\n");
      out.write("                        $(\"#btnCanSuivant\").removeClass(\"ui-state-disabled\");\n");
      out.write("                        /*on fait disparaitre tous les éléments de la page */\n");
      out.write("                        document.getElementById(\"Q1\").style.display = 'none';\n");
      out.write("                        document.getElementById(\"btnPrec\").style.display = 'none';\n");
      out.write("                        document.getElementById(\"btnSuiv\").style.display = 'none';\n");
      out.write("                        document.getElementById(\"btnSvt\").style.display = 'none';\n");
      out.write("                        document.getElementById(\"btnPcdt\").style.display = 'none';\n");
      out.write("                        document.getElementById(\"btnCanPrecedent\").style.display = 'none';\n");
      out.write("                        document.getElementById(\"btnCanSuivant\").style.display = 'none';\n");
      out.write("                        document.getElementById(\"divSliderVideo\").style.display = 'none';\n");
      out.write("                        document.getElementById(\"sliderDelai\").style.display = 'none';\n");
      out.write("                    } else {\n");
      out.write("                        var reps = data.split(\"--\");\n");
      out.write("                        var cheminImages = reps[1].split(\"|\");\n");
      out.write("                        var tabDelai = reps[2].split(\"|\");\n");
      out.write("                        var X = reps[3].split(\"|\");\n");
      out.write("                        var Y = reps[4].split(\"|\");\n");
      out.write("                        var candId = reps[5].split(\"|\");\n");
      out.write("                        var trame = reps[6].split(\"|\");\n");
      out.write("                        NbCand = reps[7].split(\"|\");\n");
      out.write("                        NbCand = NbCand.map(Number);\n");
      out.write("                        var listDelai = tabDelai.map(Number);\n");
      out.write("                        getX(X);\n");
      out.write("                        getY(Y);\n");
      out.write("                        getCandId(candId);\n");
      out.write("                        cache();\n");
      out.write("                        remplir(cheminImages, listDelai);\n");
      out.write("                    }\n");
      out.write("                },\n");
      out.write("                error: function (resultat, statut, erreur) {\n");
      out.write("                    alert(\"Désolé, le serveur ne répond pas\");\n");
      out.write("                }\n");
      out.write("\n");
      out.write("            });\n");
      out.write("\n");
      out.write("        }\n");
      out.write("\n");
      out.write("    </script>\n");
      out.write("</body>\n");
      out.write("</html>");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
